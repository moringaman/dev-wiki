(window.webpackJsonp=window.webpackJsonp||[]).push([[3],{155:function(t,n,a){"use strict";a.r(n);var s=a(0),e=Object(s.a)({},function(){this.$createElement;this._self._c;return this._m(0)},[function(){var t=this,n=t.$createElement,a=t._self._c||n;return a("div",{staticClass:"content"},[a("p",[a("img",{attrs:{src:"http://truffleframework.com/docs/img/logo.png",alt:"TRUFFLE"}})]),a("h2",{attrs:{id:"deploying-your-contract-with-truffle"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#deploying-your-contract-with-truffle","aria-hidden":"true"}},[t._v("#")]),t._v(" Deploying your contract with truffle")]),a("p"),a("ol",[a("li",[t._v("Write a deployment script as follows")])]),a("div",{staticClass:"language-js extra-class"},[a("pre",{pre:!0,attrs:{class:"language-js"}},[a("code",[t._v("\n"),a("span",{attrs:{class:"token keyword"}},[t._v("var")]),t._v(" Greetings "),a("span",{attrs:{class:"token operator"}},[t._v("=")]),t._v(" artifacts"),a("span",{attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{attrs:{class:"token function"}},[t._v("require")]),a("span",{attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{attrs:{class:"token string"}},[t._v('"./Greetings.sol"')]),a("span",{attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n\nmodule"),a("span",{attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{attrs:{class:"token function-variable function"}},[t._v("exports")]),t._v(" "),a("span",{attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),a("span",{attrs:{class:"token keyword"}},[t._v("function")]),a("span",{attrs:{class:"token punctuation"}},[t._v("(")]),t._v("deployer"),a("span",{attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),a("span",{attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n  deployer"),a("span",{attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{attrs:{class:"token function"}},[t._v("deploy")]),a("span",{attrs:{class:"token punctuation"}},[t._v("(")]),t._v("Greetings"),a("span",{attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n"),a("span",{attrs:{class:"token punctuation"}},[t._v("}")]),a("span",{attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n\n")])])]),a("ol",{attrs:{start:"2"}},[a("li",[a("p",[t._v("Run "),a("code",[t._v("js truffle develop")]),t._v(" from your project root to start the truffle server instance")])]),a("li",[a("p",[t._v("Run "),a("code",[t._v("js truffle develop --log")]),t._v(" to connect to the server instance")])]),a("li",[a("p",[t._v("At the truffle command prompt run "),a("code",[t._v("js truffle migrate --compile-all --reset")]),t._v(" this will compile and deploy a fresh version of our contracts.")])]),a("li",[a("p",[t._v("In order to interact with our deployed contract we need to run "),a("code",[t._v("Greetings.deployed().then(function(instance){app = instance})")]),a("br"),t._v("\nto create an instance of it which we store in the app global variable.")])]),a("li",[a("p",[t._v("Our contract instance "),a("em",[t._v("app")]),t._v(" can now be referenced directly and we can call functions using app.getGreeting() for example")])])]),a("p"),a("p",[a("img",{attrs:{src:"https://encrypted-tbn0.gstatic.com/images?q=tbn:ANd9GcQmhtp19Rs0RN5KzpiINCkHJy6sI_zPK_CnDthRxCnnnYW1u4DAew",alt:"Ganache"}})]),a("h2",{attrs:{id:"migrating-your-contracts-to-the-ganache-network"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#migrating-your-contracts-to-the-ganache-network","aria-hidden":"true"}},[t._v("#")]),t._v(" Migrating your contracts to the Ganache network")]),a("p"),a("p",[t._v("You may whant to migrate your contracts over to the Ganache network in order to interact with them using the ganache Gui.\nThis is pretty simple with the truffle framework and involves adding the Ganach network to your truffle config.")]),a("ol",[a("li",[a("p",[t._v("Add the following to you truffle js file:")]),a("div",{staticClass:"language-js extra-class"},[a("pre",{pre:!0,attrs:{class:"language-js"}},[a("code",[t._v("\nmodule"),a("span",{attrs:{class:"token punctuation"}},[t._v(".")]),t._v("exports "),a("span",{attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),a("span",{attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n  networks"),a("span",{attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),a("span",{attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n    ganache"),a("span",{attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),a("span",{attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n      host"),a("span",{attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),a("span",{attrs:{class:"token string"}},[t._v('"localhost"')]),a("span",{attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n      port"),a("span",{attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),a("span",{attrs:{class:"token number"}},[t._v("7545")]),a("span",{attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n      network_id"),a("span",{attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),a("span",{attrs:{class:"token string"}},[t._v('"*"')]),t._v("\n    "),a("span",{attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n  "),a("span",{attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n"),a("span",{attrs:{class:"token punctuation"}},[t._v("}")]),a("span",{attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n\n")])])])]),a("li",[a("p",[t._v("Next we need to run truffle migrate to compile and deploy our contracts to the newly added Ganache network with the following command")]),a("p",[a("code",[t._v("truffle migrate --compile-all --reset --network ganache")])])]),a("li",[a("p",[t._v("In order to interact with our contracts we first need to run "),a("code",[t._v("truffle console --network ganache")]),t._v(" then create an instance of our deployed contract and make it equal to a variable (in this case app).")]),a("div",{staticClass:"language-js extra-class"},[a("pre",{pre:!0,attrs:{class:"language-js"}},[a("code",[t._v("\nGreetings"),a("span",{attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{attrs:{class:"token function"}},[t._v("deployed")]),a("span",{attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{attrs:{class:"token function"}},[t._v("then")]),a("span",{attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{attrs:{class:"token keyword"}},[t._v("function")]),a("span",{attrs:{class:"token punctuation"}},[t._v("(")]),t._v("instance"),a("span",{attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{attrs:{class:"token punctuation"}},[t._v("{")]),t._v("app "),a("span",{attrs:{class:"token operator"}},[t._v("=")]),t._v(" instance"),a("span",{attrs:{class:"token punctuation"}},[t._v("}")]),a("span",{attrs:{class:"token punctuation"}},[t._v(";")]),a("span",{attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" \n\n")])])])]),a("li",[a("p",[t._v("Now we can call functions on our contracts with commands like:")]),a("p",[a("code",[t._v("app.getGreeting()")])]),a("p",[t._v("or to set the greeting")]),a("p",[a("code",[t._v('app.setGreeting("My new greeting", {from: web3.eth.accounts[0]})')])])])])])}],!1,null,null,null);n.default=e.exports}}]);