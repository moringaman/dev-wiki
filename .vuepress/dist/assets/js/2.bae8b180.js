(window.webpackJsonp=window.webpackJsonp||[]).push([[2],{156:function(t,a,s){"use strict";s.r(a);var n=s(0),e=Object(n.a)({},function(){this.$createElement;this._self._c;return this._m(0)},[function(){var t=this,a=t.$createElement,s=t._self._c||a;return s("div",{staticClass:"content"},[s("p",[s("img",{attrs:{src:"https://s3.amazonaws.com/thinkific-import/104829/solidity-1520540026519.png",alt:"Solidity Logo"}})]),s("h1",{attrs:{id:"deploying-a-solidity-contract-without-truffle"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#deploying-a-solidity-contract-without-truffle","aria-hidden":"true"}},[t._v("#")]),t._v(" Deploying A Solidity Contract Without Truffle")]),s("ol",[s("li",[s("p",[t._v("Start a Node session in the console and import web3 with")]),s("p",[t._v("â€‹")])])]),s("div",{staticClass:"language-js extra-class"},[s("pre",{pre:!0,attrs:{class:"language-js"}},[s("code",[t._v("Web3 "),s("span",{attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),s("span",{attrs:{class:"token function"}},[t._v("require")]),s("span",{attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{attrs:{class:"token string"}},[t._v("'web3'")]),s("span",{attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n")])])]),s("ol",{attrs:{start:"2"}},[s("li",[t._v("Next instantiate a new Web3 instance and pass in your local ganach instance as your http provider whith;")])]),s("div",{staticClass:"language-js extra-class"},[s("pre",{pre:!0,attrs:{class:"language-js"}},[s("code",[t._v("\twe3 "),s("span",{attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),s("span",{attrs:{class:"token keyword"}},[t._v("new")]),t._v(" "),s("span",{attrs:{class:"token class-name"}},[t._v("Web3")]),s("span",{attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{attrs:{class:"token keyword"}},[t._v("new")]),t._v(" "),s("span",{attrs:{class:"token class-name"}},[t._v("Web3"),s("span",{attrs:{class:"token punctuation"}},[t._v(".")]),t._v("providers"),s("span",{attrs:{class:"token punctuation"}},[t._v(".")]),t._v("HttpProvider")]),s("span",{attrs:{class:"token punctuation"}},[t._v("(")]),t._v("'http"),s("span",{attrs:{class:"token punctuation"}},[t._v(":")]),s("span",{attrs:{class:"token operator"}},[t._v("/")]),s("span",{attrs:{class:"token operator"}},[t._v("/")]),t._v("localhost"),s("span",{attrs:{class:"token punctuation"}},[t._v(":")]),s("span",{attrs:{class:"token number"}},[t._v("7545")]),t._v('"'),s("span",{attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n")])])]),s("ol",{attrs:{start:"3"}},[s("li",[s("p",[t._v("At this point typing * web3.eth.accounts * should yield your 10 ganache ethereum accounts.")])]),s("li",[s("p",[t._v("Next we need to load our solidity compiler solc with "),s("code",[t._v("solc = require('solc')")])])]),s("li",[s("p",[t._v("Now we load the source code of our contract and save it to a variable called * sourceCode * by typing:")])])]),s("div",{staticClass:"language-js extra-class"},[s("pre",{pre:!0,attrs:{class:"language-js"}},[s("code",[t._v("\tsourceCode "),s("span",{attrs:{class:"token operator"}},[t._v("=")]),t._v(" fs"),s("span",{attrs:{class:"token punctuation"}},[t._v(".")]),s("span",{attrs:{class:"token function"}},[t._v("readFileSync")]),s("span",{attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{attrs:{class:"token string"}},[t._v("'greetings.sol'")]),s("span",{attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{attrs:{class:"token punctuation"}},[t._v(".")]),s("span",{attrs:{class:"token function"}},[t._v("toString")]),s("span",{attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n")])])]),s("ol",{attrs:{start:"6"}},[s("li",[t._v("Now that we have loaded our source code we can compile it with our solidity compiler and save it as\nvariable compiledCode.")])]),s("div",{staticClass:"language-js extra-class"},[s("pre",{pre:!0,attrs:{class:"language-js"}},[s("code",[t._v("\tcompiledCode "),s("span",{attrs:{class:"token operator"}},[t._v("=")]),t._v(" solc"),s("span",{attrs:{class:"token punctuation"}},[t._v(".")]),s("span",{attrs:{class:"token function"}},[t._v("compile")]),s("span",{attrs:{class:"token punctuation"}},[t._v("(")]),t._v("sourceCode"),s("span",{attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n")])])]),s("ol",{attrs:{start:"7"}},[s("li",[t._v("In order to deploy our newly compiled contract we need to first extract the contract ABI from the\ncontract interface:")])]),s("div",{staticClass:"language-js extra-class"},[s("pre",{pre:!0,attrs:{class:"language-js"}},[s("code",[t._v("\tcontractABI "),s("span",{attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),s("span",{attrs:{class:"token constant"}},[t._v("JSON")]),s("span",{attrs:{class:"token punctuation"}},[t._v(".")]),s("span",{attrs:{class:"token function"}},[t._v("parse")]),s("span",{attrs:{class:"token punctuation"}},[t._v("(")]),t._v("compiledCode"),s("span",{attrs:{class:"token punctuation"}},[t._v(".")]),t._v("contracts"),s("span",{attrs:{class:"token punctuation"}},[t._v("[")]),s("span",{attrs:{class:"token string"}},[t._v("':Greetings'")]),s("span",{attrs:{class:"token punctuation"}},[t._v("]")]),s("span",{attrs:{class:"token punctuation"}},[t._v(".")]),s("span",{attrs:{class:"token keyword"}},[t._v("interface")]),s("span",{attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n")])])]),s("ol",{attrs:{start:"8"}},[s("li",[t._v("To deploy our contract we need to create a contract factory called greetingsContract and pass it our\ncontractABI code with:")])]),s("div",{staticClass:"language-js extra-class"},[s("pre",{pre:!0,attrs:{class:"language-js"}},[s("code",[t._v("\tgreetingsContract "),s("span",{attrs:{class:"token operator"}},[t._v("=")]),t._v(" web3"),s("span",{attrs:{class:"token punctuation"}},[t._v(".")]),t._v("eth"),s("span",{attrs:{class:"token punctuation"}},[t._v(".")]),s("span",{attrs:{class:"token function"}},[t._v("contract")]),s("span",{attrs:{class:"token punctuation"}},[t._v("(")]),t._v("contractABI"),s("span",{attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n")])])]),s("ol",{attrs:{start:"9"}},[s("li",[t._v("We also need to extract the bytcode from our previously compiled code with:")])]),s("div",{staticClass:"language-js extra-class"},[s("pre",{pre:!0,attrs:{class:"language-js"}},[s("code",[t._v("\tbyteCode "),s("span",{attrs:{class:"token operator"}},[t._v("=")]),t._v(" compiledCode"),s("span",{attrs:{class:"token punctuation"}},[t._v(".")]),t._v("contracts"),s("span",{attrs:{class:"token punctuation"}},[t._v("[")]),s("span",{attrs:{class:"token string"}},[t._v("':Greetings'")]),s("span",{attrs:{class:"token punctuation"}},[t._v("]")]),s("span",{attrs:{class:"token punctuation"}},[t._v(".")]),t._v("bytecode\n")])])]),s("ol",{attrs:{start:"10"}},[s("li",[t._v("Now we an deploy our contact we need to send some our bytcode data to our greetingsContract facctory\nwith the following:")])]),s("div",{staticClass:"language-js extra-class"},[s("pre",{pre:!0,attrs:{class:"language-js"}},[s("code",[t._v("\tgreetingsDeployed "),s("span",{attrs:{class:"token operator"}},[t._v("=")]),t._v(" greetingsContract"),s("span",{attrs:{class:"token punctuation"}},[t._v(".")]),s("span",{attrs:{class:"token keyword"}},[t._v("new")]),s("span",{attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{attrs:{class:"token punctuation"}},[t._v("{")]),t._v("data"),s("span",{attrs:{class:"token punctuation"}},[t._v(":")]),t._v("byteCode"),s("span",{attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),s("span",{attrs:{class:"token keyword"}},[t._v("from")]),s("span",{attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" web3"),s("span",{attrs:{class:"token punctuation"}},[t._v(".")]),t._v("eth"),s("span",{attrs:{class:"token punctuation"}},[t._v(".")]),t._v("accounts"),s("span",{attrs:{class:"token punctuation"}},[t._v("[")]),s("span",{attrs:{class:"token number"}},[t._v("0")]),s("span",{attrs:{class:"token punctuation"}},[t._v("]")]),s("span",{attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" gas"),s("span",{attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),s("span",{attrs:{class:"token number"}},[t._v("4700000")]),s("span",{attrs:{class:"token punctuation"}},[t._v("}")]),s("span",{attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n")])])]),s("ol",{attrs:{start:"11"}},[s("li",[t._v("Finally and in order to interact with our contract we need to create an instance of it by typing;")])]),s("div",{staticClass:"language-js extra-class"},[s("pre",{pre:!0,attrs:{class:"language-js"}},[s("code",[t._v("\tgreetingsInstance "),s("span",{attrs:{class:"token operator"}},[t._v("=")]),t._v(" greetingsContract"),s("span",{attrs:{class:"token punctuation"}},[t._v(".")]),s("span",{attrs:{class:"token function"}},[t._v("at")]),s("span",{attrs:{class:"token punctuation"}},[t._v("(")]),t._v("greetingsDeployed"),s("span",{attrs:{class:"token punctuation"}},[t._v(".")]),t._v("address"),s("span",{attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n")])])])])}],!1,null,null,null);a.default=e.exports}}]);